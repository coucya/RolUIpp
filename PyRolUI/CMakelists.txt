
set(EXECUTABLE_OUTPUT_PATH ${CMAKE_SOURCE_DIR}/examples_bin/)
set(LIBRARY_OUTPUT_PATH ${CMAKE_SOURCE_DIR}/examples_bin/)

set(PyRolUI_SOURCE_DIR ${CMAKE_CURRENT_SOURCE_DIR}/src)

aux_source_directory(${PyRolUI_SOURCE_DIR} PyRolUI_source)

find_package(Python COMPONENTS Interpreter Development)
find_package(pybind11 CONFIG)

add_library(PyRolUI SHARED ${PyRolUI_source})
target_include_directories(PyRolUI PRIVATE ${RolUI_INCLUDE_DIR})
target_include_directories(PyRolUI PRIVATE ${BACKEND_DIR})
target_include_directories(PyRolUI PRIVATE ${3RDPARTY_DIR}/glfw/include)
target_include_directories(PyRolUI PRIVATE ${3RDPARTY_DIR}/stb)
target_include_directories(PyRolUI PRIVATE ${Python_INCLUDE_DIRS})
target_include_directories(PyRolUI PRIVATE ${pybind11_INCLUDE_DIRS})
target_link_libraries(PyRolUI RolUI_glfw_backend)
target_link_libraries(PyRolUI RolUI)
target_link_libraries(PyRolUI ${Python_LIBRARIES})
target_link_libraries(PyRolUI ${pybind11_LIBRARIES})
target_compile_options(PyRolUI PRIVATE -std=c++17)

set_target_properties(PyRolUI PROPERTIES PREFIX "")
set_target_properties(PyRolUI PROPERTIES SUFFIX ".pyd")

message(debug ${pybind11_INCLUDE_DIRS})
